{% extends "base.html" %}
{% from "_meta-macro.html" import meta %}
{% from "articles/macros.html" import card %}
{% from "_homepage-macro.html" import series, latest with context %}

{% block metas %}
  {{ meta('name=description', 'Cafébabel is the first European participatory magazine made for young Europeans across borders.') }}
  {{ meta('name=author', 'Cafébabel') }}
{% endblock %}

{% block metas_social %}
  {{ meta('property=og:url', request.url) }}
  {{ meta('property=og:image', url_for('static', filename='img/cafebabel-thumbnail-default.jpg')) }}
  {{ meta('property=og:title', self.meta_title()) }}
  {{ meta('property=og:type', 'website') }}
  {{ meta('property=og:description', 'Cafébabel is the first European participatory magazine made for young Europeans across borders.') }}
  {{ meta('property=og:site_name', 'Cafébabel') }}
  {{ meta('property=og:locale', current_language) }}
  {{ meta('name=twitter:card', 'summary') }}
  {{ meta('name=twitter:image', url_for('static', filename='img/cafebabel-thumbnail-default.jpg')) }}
  {{ meta('name=twitter:title', self.meta_title()) }}
  {{ meta('name=twitter:description', 'Cafébabel is the first European participatory magazine made for young Europeans across borders.') }}
  {{ meta('name=twitter:url', request.url) }}
{% endblock %}

{% block body_class %}home{% endblock %}
{% block body %}
  {% if articles %}
    <section class=editors-pick>
      {% set tag_editors_pick, articles_editors_pick = articles_for_tag('editors-pick', limit=1) %}
      {% for article_editors_pick in articles_editors_pick %}
        {{ card(article_editors_pick) }}
      {% endfor %}
    </section>
    <section class=categories>
      <h2>Sections</h2>
      {% for category in categories|shuffle %}
        <a href={{ category.detail_url }} class="section-link {{ category.slug }}">{{ category.name }}</a>
      {% endfor %}
    </section>
    {{ latest("latest1", 3) }}
    {{ series("meet-my-hood", 2, "description lalala") }}
    {{ latest("latest2", 3) }}
    {{ series("network", 0, "description lalala") }}
    {{ latest("latest3", 3) }}
    {{ series("voglio-mangiare-cosi", 2, "description lalala") }}
    {{ latest("latest4", 3) }}
  {% endif %}

{% if articles %}
  <h2>Recently published</h2>
  {% for article in articles %}
    {% if article not in articles_editors_pick and article not in articles_meet_my_hood %}
      {{ card(article) }}
    {% endif %}
  {% endfor %}
{% endif %}
{% endblock %}
