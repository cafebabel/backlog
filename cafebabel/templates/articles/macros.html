{% from "users/macros.html" import default_profile_picture without context %}

{%- macro article_meta(article) -%}
  <p>
    <span>Published on <time pubdate="{{ article.creation_date.date() }}">{{ article.creation_date.date() }}</time></span>
    â€” by {% if article.author.profile.has_image %}
      <img src={{ article.author.profile.image_url }} alt="Picture of {{ article.author }}">
    {% else %}
      {{ default_profile_picture() }}
    {% endif %}
    {{ article.author }}<br>
    {% if article.category %}
    in category {{ article.category }}<br>
    {% endif %}
    Reading time: {{ article.body|reading_time }} min
  </p>
{%- endmacro %}

{%- macro tags_fields(article=None) -%}
  <div class=tags>
    <label for=tag-1>Tags</label>
    <ul class=tags-list>
      {% if article and article.tags %}
        {% for tag in article.tags -%}
          <li class=saved>{# Avoid any whitespace before the name and the input.
              #}{{ tag.name }}{# Avoid any whitespace after the name and the input.
            #}<input name=tag-{{ loop.index }} list=tags value={{ tag.name }} type=hidden>
            <button type=button></button>
          </li>
        {%- endfor %}
      {% endif %}
    </ul>
    <div class=tag-container><input name=tag-new autocomplete=off list=tags-suggestions><button class=add>+</button></div>
    <ul id=tags-suggestions class=inactive></ul>
  </div>
{%- endmacro %}
